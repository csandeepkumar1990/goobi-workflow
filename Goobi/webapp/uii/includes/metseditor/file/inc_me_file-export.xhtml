<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite" 
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core" 
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites" 
    xmlns:p="http://primefaces.org/ui">

    <composite:interface />

    <composite:implementation>
        <h:form id="meServersideUploadForm" rendered="#{Metadaten.alleSeiten != null}">
            <div id="meServersideUploadBox" class="module module__box module__box--gray module__box--collapsable">
                <div class="module__box-title">
                    <h3>
                        <i class="fa fa-bars" aria-hidden="true"></i>
                        <span>#{msgs.serversideUpload}</span>
                        <button type="button" class="btn btn--clean" data-toggle="box-body">
                            <i class="fa fa-angle-up fa-lg" aria-hidden="true"></i>
                        </button>
                    </h3>
                </div>
                <div class="module__box-body">
                    <div class="form-group form-group--flex">
                        <div class="row justify-content-between">
                            <div class="col-3">
                                <label>#{msgs.imageSelection}:</label>
                            </div>
                            <div class="col-9">
                                <h:selectManyListbox 
                                    id="filenames" 
                                    styleClass="form-control"
                                    value="#{Metadaten.fileManipulation.selectedFiles}">
                                    <f:selectItems value="#{Metadaten.alleSeiten}" />
                                </h:selectManyListbox>
                            </div>
                        </div>
                    </div>

                    <div class="form-group form-group--flex">
                        <div class="row justify-content-between">
                            <div class="col-3">
                                <label>#{msgs.deleteAfterMove}:</label>
                            </div>
                            <div class="col-7">
                                <div class="form-check">
                                    <label>
                                        <h:selectBooleanCheckbox id="deleteAfter" styleClass="form-check-input"
                                            value="#{Metadaten.fileManipulation.deleteFilesAfterMove}" />
                                        <span>
                                            <i class="fa fa-square-o" aria-hidden="true"></i>
                                            <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                        </span>
                                    </label>
                                </div>
                            </div>
                            <div class="col-2"></div>
                        </div>
                    </div>
                    
                    <hr />
                    
                    <div class="row">
                        <div class="col-auto mr-auto"></div>
                        <div class="col-auto">
                            <h:commandLink 
                                id="exportFiles" 
                                styleClass="btn btn--gray"
                                value="#{msgs.exportFiles}" 
                                action="#{Metadaten.fileManipulation.exportFiles}"
                                onclick="if (!confirm('#{msgs.wirklichAusfuehren}')) return false" />
                        </div>
                    </div>
                </div>
            </div>
        </h:form>
    </composite:implementation>
</ui:composition>