<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite" 
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core" 
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites" 
    xmlns:p="http://primefaces.org/ui">

    <composite:interface />

    <composite:implementation>
        <ui:fragment rendered="#{!Metadaten.treeProperties.showThumbnails}">
            <h:form prependId="false" id="openseadragonform">
                <div id="objectControlWrapper" class="image__object-control-wrapper">
                    <!-- IMAGE NAVIGATION -->
                    <ui:fragment rendered="#{Metadaten.image != null}">
                        <ui:include src="inc_me_image-imageNavigation.xhtml" />
                    </ui:fragment>
        
                    <!-- OCR -->
                    <ui:fragment rendered="#{Metadaten.showOcrButton and Metadaten.bildNummer != '-1' and NavigationForm.uiStatus.mets_showOcr eq 'on'}">
                        <h:outputText value="OCR" />
                        <h:outputText value="#{Metadaten.ocrResult}" escape="false" />
                    </ui:fragment>
        
                    <ui:fragment rendered="#{Metadaten.image != null and Metadaten.image.imageName == ''}">
                        <i class="fa fa-ban" aria-hidden="true"></i>
                    </ui:fragment>
        
                </div>
                
                <!-- MAIN IMAGE -->
                <ui:fragment rendered="#{Metadaten.image != null and Metadaten.image.imageName != ''}">
                    <div id="objectWrapper" class="image__object-wrapper">
                        <!-- 3D CONTROLS -->
                        <ui:fragment rendered="#{Metadaten.image.type == 'object'}">
                            <ui:include src="inc_me_image-objectControls.xhtml" />
                        </ui:fragment>

                        <!-- AJAX LOADER -->
                        <div id="imageLoader">
                            <img src="template/img/goobi/ajaxloader2.gif" />
                        </div>

                        <!-- MAIN IMAGE CONTAINER -->
                        <div id="mainImage" class="image__main-image"></div>

                        <!-- IMAGE CONTROLS -->
                        <ui:fragment rendered="#{Metadaten.image != null and Metadaten.image.imageName != '' and Metadaten.image.type == 'image'}">
                            <ui:include src="inc_me_image-imageControls.xhtml" />
                        </ui:fragment>
                    </div>
                </ui:fragment>

                <!-- TODO: feststellen, wozu die auskommentierten Elemente dienen. -->
                <!-- <h:form id="imageform">
					<x:inputHidden id="hiddenBildNummer" forceId="true" value="#{Metadaten.bildNummer}" />
				</h:form> -->

				<!-- wenn kein Bild vorhanden, dann nur Meldung -->
				<!-- <h:outputText value="- #{msgs.keinBildVorhanden} -" rendered="#{Metadaten.bildNummer == '-1'}" /> -->
            </h:form>
        </ui:fragment>
    </composite:implementation>
</ui:composition>