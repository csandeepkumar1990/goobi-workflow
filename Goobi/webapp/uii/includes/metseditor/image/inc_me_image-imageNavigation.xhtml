<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html" 
    xmlns:f="http://xmlns.jcp.org/jsf/core" 
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <composite:interface />

    <composite:implementation>
        <nav id="imageNavigation" class="image__navigation" role="navigation">
            <ul class="clean">
                <!-- FIRST IMAGE -->
                <li>
                    <h:commandLink 
                        id="imageFirst"    
                        styleClass="btn btn--icon btn--icon-gray" 
                        title="#{msgs.firstImage}"
                        role="button">
                        <i class="fa fa-angle-double-left" aria-hidden="true"></i>
                        <x:updateActionListener value="0" property="#{Metadaten.imageIndex}" />
                        <f:passThroughAttribute name="data-toggle" value="tooltip" />
                        <f:ajax execute="@form" render="@form" />
                    </h:commandLink>
                </li>

                <!-- PREV IMAGE -->
                <li>
                    <h:commandLink 
                        id="prevImage"
                        styleClass="btn btn--icon btn--icon-blue" 
                        role="button">
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span>#{msgs.previousImage}</span>
                        <x:updateActionListener value="#{Metadaten.imageIndex - 1}" property="#{Metadaten.imageIndex}" />
                        <f:passThroughAttribute name="data-toggle" value="tooltip" />
                        <f:ajax execute="@form" render="@form" />
                    </h:commandLink>
                </li>
                
                

                <!-- TODO: was macht diese hidden input Feld? -->
                <!-- <li>
                    <x:inputText id="hiddenImageNo" value="#{Metadaten.imageIndex}" />
                </li> -->
                
                <li id="autocomplete" class="no-hover">
                    <span id="currentPage">#{msgs.seite} #{Metadaten.imageIndex +1} #{msgs.von} #{Metadaten.sizeOfImageList}</span>
                   
                    <p:autoComplete
                        id="jumpToImageAutocomplete" 
                        styleClass="form-control image__controls-jump-to-image border" 
                        scrollHeight="300" 
                        forceId="true"
                        value="#{Metadaten.bildNummerGeheZuCompleteString}" 
                        completeMethod="#{Metadaten.autocomplete}"
                        onkeypress="return goobiWorkflowJS.submitEnter( 'goButton', event )"
                        onkeydown="goobiWorkflowJS.setAutocompleteListHandler()" />
                        
                
                    <h:commandButton id="goButton" value="go" action="#{Metadaten.BildGeheZu}">
                        <f:ajax execute="@form" render="@form" />
                    </h:commandButton>
                </li>            

                <!-- IMAGE NEXT -->
                <li>
                    <h:commandLink 
                        id="nextImage"    
                        styleClass="btn btn--icon btn--icon-blue"
                        role="button">
                        <span>#{msgs.nextImage}</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                        <x:updateActionListener value="#{Metadaten.imageIndex + 1}" property="#{Metadaten.imageIndex}" />
                        <f:passThroughAttribute name="data-toggle" value="tooltip" />
                        <f:ajax execute="@form" render="@form" />
                    </h:commandLink>
                </li>

                <!-- IMAGE LAST -->
                <li>
                    <h:commandLink 
                        id="imageLast"    
                        styleClass="btn btn--icon btn--icon-gray"
                        title="#{msgs.lastImage}" 
                        role="button">
                        <i class="fa fa-angle-double-right" aria-hidden="true"></i>
                        <x:updateActionListener value="#{Metadaten.sizeOfImageList -1}" property="#{Metadaten.imageIndex}" />
                        <f:passThroughAttribute name="data-toggle" value="tooltip" />
                        <f:ajax execute="@form" render="@form" />
                    </h:commandLink>
                </li>

                    
            </ul>
            
             <h:commandButton id="imageBack20" style="display:none">
                <x:updateActionListener value="#{Metadaten.imageIndex -20}" property="#{Metadaten.imageIndex}" />
                <f:ajax execute="@form" render="@form" />
            </h:commandButton>
        
            <h:commandButton id="imageNext20" style="display:none">
                <x:updateActionListener value="#{Metadaten.imageIndex +20}" property="#{Metadaten.imageIndex}" />
                <f:ajax execute="@form" render="@form"  />
            </h:commandButton>
            
            <x:inputText id="hiddenImageNo" style="display: none" value="#{Metadaten.imageIndex}" />
        </nav>
    </composite:implementation>
</ui:composition>