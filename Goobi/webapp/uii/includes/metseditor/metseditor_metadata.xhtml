<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets" 
    xmlns:composite="http://xmlns.jcp.org/jsf/composite" 
    xmlns:h="http://xmlns.jcp.org/jsf/html" 
    xmlns:f="http://xmlns.jcp.org/jsf/core" 
    xmlns:x="http://myfaces.apache.org/tomahawk" 
    xmlns:c="http://java.sun.com/jsp/jstl/core" 
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites">

    <composite:interface />

    <composite:implementation>
        <!-- WARNING RED ONLY MODE -->
        <h:outputText
            rendered="#{Metadaten.nurLesenModus}" 
            styleClass="alert alert-warning" 
            value="#{msgs.metadatenBetrachten} (#{msgs.schreibgeschuetzt})" />

        <h:form id="metadataform" prependId="false">
            <h:panelGroup rendered="#{(not Metadaten.modusHinzufuegen) and (not Metadaten.modusHinzufuegenPerson) and (not Metadaten.modeAddGroup)}">
                <!-- EXISTING PERSON -->
                <ui:include src="metadata/inc_me_metadata-existingPerson.xhtml" />
                
                <!-- EXISTING METADATA -->
                <ui:include src="metadata/inc_me_metadata-existingMetadata.xhtml" />
                
                <!-- EXISTING METADATA GROUP -->
                <ui:include src="metadata/inc_me_metadata-existingMetadataGroup.xhtml" />
            </h:panelGroup>
            
            <!-- ADD METADATA -->
            <ui:include src="metadata/inc_me_metadata-addMetadata.xhtml" />
            
            <!-- ADD PERSON -->
            <ui:include src="metadata/inc_me_metadata-addPerson.xhtml" />
            
            <!-- ADD GROUP -->
            <ui:include src="metadata/inc_me_metadata-addGroup.xhtml" />
        </h:form>
        
        <!-- MODALS -->
        <h:form
            id="normdataForm"
            prependId="false">
            <h:inputHidden
                id="rowType"
                value="#{Metadaten.rowType}" />
            <h:inputHidden
                id="rowIndex"
                value="#{Metadaten.rowIndex}" />
            <h:inputHidden
                id="groupIndex"
                value="#{Metadaten.groupIndex}" />
            <h:commandLink
                id="updatePluginButton"
                style="display:none;"
                action="#{Metadaten.loadCurrentPlugin}">
                <f:ajax
                    execute="rowType rowIndex groupIndex"
                    render="processModalContent viaf_search easydbModalContent" />


            </h:commandLink>
            <ui:include src="modals/inc_me_modal_dante.xhtml" />
            <ui:include src="modals/inc_me_modal_easydb.xhtml" />
            <ui:include src="modals/inc_me_modal_geonames.xhtml" />
            <ui:include src="modals/inc_me_modal_gnd.xhtml" />
            <ui:include src="modals/inc_me_modal_processSearch.xhtml" />
            <ui:include src="modals/inc_me_modal_viaf.xhtml" />
            <ui:include src="modals/inc_me_modal_vocabulary.xhtml" />
            
        </h:form>
    </composite:implementation>
</ui:composition>