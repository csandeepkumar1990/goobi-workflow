<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:p="http://primefaces.org/ui">

    <composite:interface />

    <composite:implementation>
        <ui:fragment rendered="#{Metadaten.alleSeiten !=null}">
            <h:panelGroup id="pageallocation">
                <div
                    id="meStructdataPageAssignmentBox"
                    class="module module__box module__box--white module__box--collapsable">
                    <div class="module__box-title">
                        <h3>
                            <i
                                class="fa fa-bars"
                                aria-hidden="true"></i>
                            <span>#{msgs.seitenzuordnung}</span>
                            <button
                                type="button"
                                class="btn btn--clean"
                                data-toggle="box-body">
                                <i
                                    class="fa fa-angle-up fa-lg"
                                    aria-hidden="true"></i>
                            </button>
                        </h3>
                    </div>
                    <div
                        id="pageAssignmentGroup"
                        class="module__box-body">
                        <p>
                            <h:commandLink
                                styleClass="btn btn--gray btn--margin-right"
                                id="metseditor_pages_overview"
                                action="#{NavigationForm.Reload}"
                                value="#{msgs.metseditor_pages_overview}">
                                <f:setPropertyActionListener
                                    target="#{NavigationForm.uiStatus.pageassignment}"
                                    value="" />
                                <f:ajax render="pageallocation" />
                            </h:commandLink>



                            <h:commandLink
                                styleClass="btn btn--gray btn--margin-right"
                                id="metseditor_pages_allPages"
                                action="#{NavigationForm.Reload}"
                                value="#{msgs.metseditor_pages_allPages}">
                                <f:setPropertyActionListener
                                    target="#{NavigationForm.uiStatus.pageassignment}"
                                    value="tab1" />
                                <f:ajax render="pageallocation" />
                            </h:commandLink>
                            <h:commandLink
                                styleClass="btn btn--gray"
                                id="metseditor_pages_quickassign"
                                action="#{NavigationForm.Reload}"
                                value="#{msgs.metseditor_pages_quickassign}">
                                <f:setPropertyActionListener
                                    target="#{NavigationForm.uiStatus.pageassignment}"
                                    value="tab2" />
                                <f:ajax render="pageallocation" />
                            </h:commandLink>

                        </p>

                        <!-- PAGES OVERVIEW -->
                        <h:panelGroup
                            id="metseditorPagesOverview"
                            layout="block"
                            rendered="#{NavigationForm.uiStatus.pageassignment == '' || NavigationForm.uiStatus.pageassignment == null}">

                            <!-- FIRST PAGE -->
                            <div class="form-group form-group--flex structdata__previous-page">
                                <div class="row justify-content-between">
                                    <div class="col-3">
                                        <label for="pagestart2">#{msgs.ersteSeite}:</label>
                                    </div>
                                    <div class="col-6">
                                        <p:autoComplete
                                            scrollHeight="300"
                                            id="pagestart2"
                                            styleClass="form-control"
                                            forceId="true"
                                            value="#{Metadaten.pagesStartCurrentElement}"
                                            completeMethod="#{Metadaten.autocomplete}" />
                                    </div>
                                    <div class="col-3">
                                        <h:commandLink
                                            id="takePreviousImage3"
                                            styleClass="btn btn--icon-white"
                                            action="#{Metadaten.startpage}"
                                            title="#{msgs.mets_takePreviousImage}"
                                            role="button">
                                            <i
                                                class="fa fa-angle-left fa-lg"
                                                aria-hidden="true"></i>
                                            <x:updateActionListener
                                                value="#{Metadaten.imageIndex}"
                                                property="#{Metadaten.pageNumber}" />
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax render="pagestart2" />
                                        </h:commandLink>
                                        <h:commandLink
                                            id="takeCurrentImage3"
                                            styleClass="btn btn--icon-gray"
                                            action="#{Metadaten.startpage}"
                                            title="#{msgs.mets_takeCurrentImage}"
                                            role="button">
                                            <i
                                                class="fa fa-picture-o"
                                                aria-hidden="true"></i>
                                            <x:updateActionListener
                                                value="#{Metadaten.imageIndex+1}"
                                                property="#{Metadaten.pageNumber}" />
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax render="pagestart2" />
                                        </h:commandLink>
                                        <h:commandLink
                                            id="takeNextImage3"
                                            styleClass="btn btn--icon-white"
                                            action="#{Metadaten.startpage}"
                                            title="#{msgs.mets_takeNextImage}"
                                            role="button">
                                            <i
                                                class="fa fa-angle-right fa-lg"
                                                aria-hidden="true"></i>
                                            <x:updateActionListener
                                                value="#{Metadaten.imageIndex+2}"
                                                property="#{Metadaten.pageNumber}" />
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax render="pagestart2" />
                                        </h:commandLink>
                                    </div>
                                </div>
                            </div>

                            <!-- LAST PAGE -->
                            <div class="form-group form-group--flex structdata__last-page">
                                <div class="row justify-content-between">
                                    <div class="col-3">
                                        <label for="pageend2">#{msgs.letzteSeite}:</label>
                                    </div>
                                    <div class="col-6">
                                        <p:autoComplete
                                            scrollHeight="300"
                                            id="pageend2"
                                            styleClass="form-control"
                                            forceId="true"
                                            value="#{Metadaten.pagesEndCurrentElement}"
                                            completeMethod="#{Metadaten.autocomplete}" />
                                    </div>
                                    <div class="col-3">
                                        <h:commandLink
                                            id="takePreviousImage4"
                                            styleClass="btn btn--icon-white"
                                            action="#{Metadaten.endpage}"
                                            title="#{msgs.mets_takePreviousImage}"
                                            role="button">
                                            <i
                                                class="fa fa-angle-left fa-lg"
                                                aria-hidden="true"></i>
                                            <x:updateActionListener
                                                value="#{Metadaten.imageIndex}"
                                                property="#{Metadaten.pageNumber}" />
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax render="pageend2" />
                                        </h:commandLink>
                                        <h:commandLink
                                            id="takeCurrentImage4"
                                            styleClass="btn btn--icon-gray"
                                            action="#{Metadaten.endpage}"
                                            title="#{msgs.mets_takeCurrentImage}"
                                            role="button">
                                            <i
                                                class="fa fa-picture-o"
                                                aria-hidden="true"></i>
                                            <x:updateActionListener
                                                value="#{Metadaten.imageIndex +1}"
                                                property="#{Metadaten.pageNumber}" />
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax render="pageend2" />
                                        </h:commandLink>
                                        <h:commandLink
                                            id="takeNextImage4"
                                            styleClass="btn btn--icon-white"
                                            action="#{Metadaten.endpage}"
                                            title="#{msgs.mets_takeNextImage}"
                                            role="button">
                                            <i
                                                class="fa fa-angle-right fa-lg"
                                                aria-hidden="true"></i>
                                            <x:updateActionListener
                                                value="#{Metadaten.imageIndex +2}"
                                                property="#{Metadaten.pageNumber}" />
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax render="pageend2" />
                                        </h:commandLink>
                                    </div>
                                </div>
                            </div>

                            <hr />

                            <!-- ADD ELEMENT -->
                            <div class="structdata__add-element">
                                <div class="row">
                                    <div class="col-auto mr-auto"></div>
                                    <div class="col-auto">
                                        <h:commandLink
                                            id="setPages2"
                                            action="#{Metadaten.setPages}"
                                            styleClass="btn btn--gray">
                                            <h:outputText value="#{msgs.seitenZuweisen}" />
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax
                                                render="pageallocation :treeform"
                                                execute="pagestart2 pageend2" />
                                        </h:commandLink>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>
                        <h:panelGroup
                            id="metseditorPagesAllPages"
                            layout="block"
                            rendered="#{NavigationForm.uiStatus.pageassignment eq 'tab1'}">
                            <!-- PAGES ALL PAGES -->
                            <div class="form-group form-group--flex structdata__all-pages">
                                <div class="row">
                                    <div class="col-5">
                                        <h:outputText
                                            styleClass="form-group__label"
                                            value="#{msgs.alleSeiten}" />
                                        <x:selectManyListbox
                                            id="selectPages"
                                            styleClass="form-control"
                                            value="#{Metadaten.alleSeitenAuswahl}">
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:selectItems value="#{Metadaten.alleSeiten}" />
                                        </x:selectManyListbox>
                                    </div>
                                    <div class="col-2">
                                        <h:commandLink
                                            id="s1"
                                            action="#{Metadaten.SeitenHinzu}"
                                            styleClass="btn btn--icon btn--icon-gray"
                                            style="margin-top: 100px;"
                                            title="#{msgs.mets_addTheseImages}">
                                            <i
                                                class="fa fa-arrow-right fa-lg"
                                                aria-hidden="true"></i>
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax
                                                execute="@form"
                                                render="pageallocation :treeform" />
                                        </h:commandLink>
                                        <h:commandLink
                                            id="s2"
                                            action="#{Metadaten.SeitenWeg}"
                                            styleClass="btn btn--icon btn--icon-gray"
                                            title="#{msgs.mets_removeTheseImages}">
                                            <i
                                                class="fa fa-arrow-left fa-lg"
                                                aria-hidden="true"></i>
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                            <f:ajax
                                                execute="@form"
                                                render="pageallocation :treeform" />
                                        </h:commandLink>
                                    </div>
                                    <div class="col-5">
                                        <h:outputText
                                            styleClass="form-group__label"
                                            value="#{msgs.zugehoerigeSeiten}" />
                                        <x:selectManyListbox
                                            id="selectPages2"
                                            styleClass="form-control"
                                            value="#{Metadaten.structSeitenAuswahl}">
                                            <f:selectItems value="#{Metadaten.structSeiten}" />
                                        </x:selectManyListbox>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>
                        <h:panelGroup
                            id="metseditorPagesQuickassign"
                            layout="block"
                            rendered="#{NavigationForm.uiStatus.pageassignment eq 'tab2'}">

                            <!-- PAGES QUICKASSIGN -->
                            <div class="form-group form-group--flex form-group--inside structdata__quickassign">
                                <!-- FIRST PAGE -->
                                <div class="row">
                                    <div class="col-3">
                                        <h:outputText
                                            styleClass="form-group__label"
                                            value="#{msgs.ersteSeite}:" />
                                    </div>
                                    <div class="col-8">

                                        <div class="form-control form-control--select">
                                            <h:selectOneMenu
                                                rendered="#{Metadaten.treeProperties.showpagesasajax==false}"
                                                value="#{Metadaten.alleSeitenAuswahl_ersteSeite}"
                                                style="z-index: 99999">
                                                <f:selectItems value="#{Metadaten.alleSeiten}" />
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="col-1">
                                        <h:commandLink
                                            id="showFirst"
                                            styleClass="btn btn--icon"
                                            action="#{Metadaten.BildErsteSeiteAnzeigen}"
                                            title="#{msgs.mets_showThisImage}"
                                            role="button">
                                            <i
                                                class="fa fa-eye"
                                                aria-hidden="true"></i>
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                        </h:commandLink>
                                    </div>
                                </div>

                                <!-- LAST PAGE -->
                                <div class="row">
                                    <div class="col-3">
                                        <h:outputText
                                            styleClass="form-group__label"
                                            value="#{msgs.letzteSeite}:" />
                                    </div>
                                    <div class="col-8">
                                        <div class="form-control form-control--select">
                                            <h:selectOneMenu
                                                rendered="#{Metadaten.treeProperties.showpagesasajax==false}"
                                                value="#{Metadaten.alleSeitenAuswahl_letzteSeite}">
                                                <f:selectItems value="#{Metadaten.alleSeiten}" />
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="col-1">
                                        <h:commandLink
                                            id="showLast"
                                            styleClass="btn btn--icon"
                                            action="#{Metadaten.BildLetzteSeiteAnzeigen}"
                                            title="#{msgs.mets_showThisImage}"
                                            role="button">
                                            <i
                                                class="fa fa-eye"
                                                aria-hidden="true"></i>
                                            <f:passThroughAttribute
                                                name="data-toggle"
                                                value="tooltip" />
                                        </h:commandLink>
                                    </div>
                                </div>

                                <hr />

                                <!-- ACTION -->
                                <div class="row">
                                    <div class="col-auto mr-auto"></div>
                                    <div class="col-auto">
                                        <h:commandLink
                                            id="SeitenStartUndEndeSetzen"
                                            styleClass="btn btn--gray"
                                            action="#{Metadaten.SeitenStartUndEndeSetzen}"
                                            rendered="#{Metadaten.treeProperties.showpagesasajax==false}"
                                            role="button">
                                            <h:outputText value="#{msgs.seitenZuweisen}" />
                                        </h:commandLink>
                                        <h:commandLink
                                            id="showpagesasajax"
                                            styleClass="btn btn--gray"
                                            action="#{Metadaten.AjaxSeitenStartUndEndeSetzen}"
                                            rendered="#{Metadaten.treeProperties.showpagesasajax==true}"
                                            role="button">
                                            <h:outputText value="#{msgs.seitenZuweisen}" />
                                        </h:commandLink>
                                    </div>
                                </div>
                            </div>
                        </h:panelGroup>
                    </div>
                </div>
            </h:panelGroup>
        </ui:fragment>
    </composite:implementation>
</ui:composition>