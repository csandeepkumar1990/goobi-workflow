<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites" 
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html" 
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core" 
    xmlns:x="http://myfaces.apache.org/tomahawk">

    <composite:interface />

    <composite:implementation>
        <script type="text/javascript">
            // function setScrollPosition() {
            //     var scrollPosition = $('#left').scrollTop();
            //     document.getElementById('menu-form:scrollPosition').value = scrollPosition;

            //     var structdata = $('#structdata');
            //     if (structdata != null) {
            //         var pos = structdata.scrollTop();
            //         document.getElementById('menu-form:scrollPositionStructData').value = pos;
            //     }
            // }

            // $(document).ready(function () {
            //     var position = '#{NavigationForm.uiStatus.mets_scrollPosition}';
            //     var pos2 = '#{NavigationForm.uiStatus.mets_scrollPositionStructData}';
            //     $('#left').scrollTop(position);

            //         var structdata = $('#structdata');
            //         if (structdata != null) {
            //             structdata.scrollTop(pos2);
            //         }

            //     });
        </script>

        <h:form id="metseditorMenuForm">
            <!-- <h:inputHidden id="scrollPosition" value="#{NavigationForm.uiStatus.mets_scrollPosition}" />
            <h:inputHidden id="scrollPositionStructData"
                value="#{NavigationForm.uiStatus.mets_scrollPositionStructData}" />
            <h:inputHidden id="scrollToThumb" value="#{NavigationForm.uiStatus.mets_scrollToThumb}" /> -->

            <ul class="clean">
                <li>
                    <button type="button" class="btn btn--clean" data-toggle="mobile-menu">
                        <i class="fa fa-bars fa-lg" aria-hidden="true"></i>
                        <span class="sr-only">#{msgs.toggleMobileMenu}</span>
                    </button>
                </li>
                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Pagination')}">
                    <li class="#{Metadaten.modusAnsicht == 'Paginierung' ? 'active' : ''}">
                        <h:commandLink action="#{Metadaten.AnsichtAendern}" id="gotoPagination">
                            #{msgs.paginierung}
                            <x:updateActionListener value="Paginierung" property="#{Metadaten.modusAnsicht}" />
                        </h:commandLink>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Structure')}">
                    <li class="#{Metadaten.modusAnsicht == 'Strukturdaten' ? 'active' : ''}">
                        <h:commandLink action="#{Metadaten.AnsichtAendern}" id="gotoStructure">
                            #{msgs.strukturdaten}
                            <x:updateActionListener value="Strukturdaten" property="#{Metadaten.modusAnsicht}" />
                        </h:commandLink>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Metadata')}">
                    <li class="#{Metadaten.modusAnsicht == 'Metadaten' ? 'active' : ''}">
                        <h:commandLink action="#{Metadaten.AnsichtAendern}" id="gotoMetadata">
                            #{msgs.metadaten}
                            <x:updateActionListener value="Metadaten" property="#{Metadaten.modusAnsicht}" />
                        </h:commandLink>
                    </li>
                </ui:fragment>

                <ui:fragment rendered="#{LoginForm.hasRole('Task_Mets_Files')}">
                    <li class="#{Metadaten.modusAnsicht == 'File' ? 'active' : ''}">
                        <h:commandLink action="#{Metadaten.AnsichtAendern}" id="gotoFile">
                            #{msgs.fileManipulation}
                            <x:updateActionListener value="File" property="#{Metadaten.modusAnsicht}" />
                        </h:commandLink>
                    </li>
                </ui:fragment>
            </ul>            
        </h:form>
    </composite:implementation>
</ui:composition>

            <!-- TODO: mobile menu -->
            <!-- <ui:fragment> -->
            <!-- toggle mobile menu -->
            <!-- <a href="#" class="toggle-mobile"><i class="fa fa-bars"></i></a>
                        </ui:fragment> -->