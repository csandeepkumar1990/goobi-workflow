<ui:composition
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:intranda="http://xmlns.jcp.org/jsf/composite/composites"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:x="http://myfaces.apache.org/tomahawk"
    xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <composite:interface />

    <composite:implementation>
        <!-- easydb MODAL -->
        <div class="modal fade modal__easydb" id="easydbSearchBox" tabindex="-1" role="dialog" aria-labelledby="easydbSearchBoxLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="easydbSearchBoxLabel">#{msgs.NORM_easydbSearch}</h5>

                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <h:outputText value="&amp;times;" escape="false" />
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>
                            <h:outputText value="#{msgs.NORM_helpeasydbSearch}" escape="false" />
                        </p>
    
                        <div class="row">
                            <!-- easydb SEARCH INPUT -->
                            <div class="col-11">
<!--                                 <x:inputText  -->
<!--                                     id="easydbSearch"  -->
<!--                                     styleClass="form-control" -->
<!--                                     onfocus="goobiWorkflowJS.fireOnEnter(this.id, 'easydbSearchAction')" -->
<!--                                     value="#{Metadaten.easydbSearchValue}" /> -->
    
                                <h:message for="easydbSearch" showDetail="true" styleClass="help-inline font-danger" />
                            </div>
    
                            <!-- easydb SEARCH ACTION -->
                            <div class="col-1 text-right">
                                <h:commandLink
                                    id="easydbSearchAction" 
                                    styleClass="btn btn--icon btn--icon-light btn--white btn--loader" 
                                    action="#{Metadaten.search}">
                                    <i class="fa fa-search" aria-hidden="true"></i>
                                     #{msgs.search}
                                    <span class="btn-ajax-loader" aria-hidden="true">
                                        <img src="template/img/goobi/ajaxloader2.gif" alt="Ajax Button Loader" />
                                    </span>
                                    <f:passThroughAttribute name="data-toggle" value="tooltip" />
                                    <f:ajax execute="@form" render="easydbList" />
                                </h:commandLink>
                            </div>
                        </div>
    
                        <!-- easydb LIST -->
                        <h:panelGroup id="easydbList">
                            <h:message for="easydbList" showDetail="true" styleClass="help-inline font-danger" />
    
                            <div class="modal__easydb-list scrollable">
                                <x:dataList value="#{Metadaten.currentMetadataToPerformSearch.resultList}" var="easydb">
                                    <div class="form-group form-group--flex">
                                        <div class="row justify-content-between">
                                            <div class="col-10">
                                                <div class="row">
                                                   
                                                </div>
                                            </div>
        
                                            <div class="col-2 text-right">
                                                <h:commandLink 
                                                    styleClass="btn btn--icon-green"
                                                    action="#{Metadaten.currentMetadataToPerformSearch.getData}">
                                                    <i class="fa fa-check" aria-hidden="true"></i>
                                                </h:commandLink>
                                            </div>
                                        </div>
                                    </div>

                                    <hr />
                                </x:dataList>
                            </div>
    
                            <h:outputText 
                                value="#{msgs.NORM_noHits}"
                                rendered="#{Metadaten.currentMetadataToPerformSearch != NULL and Metadaten.currentMetadataToPerformSearch.showNoHitFound}" />
                        </h:panelGroup>
                    </div>
                </div>
            </div>
        </div>
        </composite:implementation>
</ui:composition>