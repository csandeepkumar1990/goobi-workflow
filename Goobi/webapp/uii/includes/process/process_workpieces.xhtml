<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:x="http://myfaces.apache.org/tomahawk">

	<composite:interface>
	</composite:interface>

	<composite:implementation>

		<x:dataList var="item" value="#{ProzessverwaltungForm.myProzess.werkstueckeList}" id="masterpieces">

			<div class="row">
				<div class="col-sm-12">

					<div class="box thin-margin box-bordered">
						<div class="box-title">
							<h3>
								<i class="fa fa-list"></i>
								<h:outputText value="#{msgs.werkstuecke}" />
							</h3>

							<div class="actions">
								<h:commandLink title="#{msgs.werkstueckBearbeiten}" action="process_edit_workpiece" id="editMasterpiece"
									styleClass="btn btn-mini" rel="tooltip"
									rendered="#{LoginForm.hasRole('Workflow_General_Details_Edit')}">
									<i class="fa fa-pencil"></i>
									<f:passThroughAttribute name="data-toggle" value="tooltip" />
									<x:updateActionListener property="#{ProzessverwaltungForm.myWerkstueckReload}"
										value="#{item}" />
								</h:commandLink>
							</div>

						</div>
						<div class="box-content nopadding">
							<div class="dataTables_wrapper">
								<x:dataTable value="#{item.eigenschaften}" var="prop"
									styleClass="table table-hover table-bordered">
									<h:column>
										<span title="{product.#{prop.titel}}" data-toggle="tooltip" rel="tooltip">#{prop.titel}:</span>
									</h:column>
									<h:column>
										<h:outputText value="#{prop.wert}" />
									</h:column>
								</x:dataTable>

								<div class="dataTables_info">
									<!-- Neu-Schaltknopf -->
									<h:commandLink action="#{ProzessverwaltungForm.WerkstueckNeu}" id="newMasterpiece"
										styleClass="btn btn-lightgrey font-size-s margin-top-5"
										rendered="#{LoginForm.hasRole('Workflow_General_Details_Edit')}"
										title="#{msgs.werkstueckHinzufuegen}">
										<i class="fa fa-plus margin-right-5"></i>
										<h:outputText value="#{msgs.werkstueckHinzufuegen}" />
										<f:passThroughAttribute name="data-toggle" value="tooltip" />
									</h:commandLink>
								</div>
							</div>

						</div>
					</div>

				</div>
			</div>
		</x:dataList>

	</composite:implementation>

</ui:composition>


