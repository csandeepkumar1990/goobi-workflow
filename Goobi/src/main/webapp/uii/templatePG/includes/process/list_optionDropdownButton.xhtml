<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:x="http://myfaces.apache.org/tomahawk"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG">

	<composite:interface>
	</composite:interface>

	<composite:implementation>
		<span
            class="dropdown-left"
            title="#{msgs.additionalOptions}"
            data-bs-toggle="tooltip">
            <button
                jsf:id="additionalOptionsDropdown"
                aria-label="#{msgs.additionalOptions}"
                aria-haspopup="true"
                aria-expanded="false"
                onclick="switchExpanded(this.id)"
                type="button"
                class="btn btn-blank dropdown-toggle"
                data-bs-toggle="dropdown">
                <i class="fa fa-cog" />
            </button>
            <ul class="dropdown-menu">
        
                <h:panelGroup
                    rendered="#{LoginForm.hasRole('Workflow_Processes_Allow_Linking')}">
                    <li>
                        <!-- DOWNLOAD INTO HOME DIRECTORY -->
                        <button
                            jsf:action="#{ProzessverwaltungForm.DownloadToHome}"
                            jsf:id="action16"
                            jsf:rendered="#{ProzessverwaltungForm.modusAnzeige!='vorlagen' and !item.imageFolderInUse}"
                            class="dropdown-item">
                            <i class="fa fa-cloud-download" />
                            <span>
                                <h:outputText
                                    value="#{msgs.imHomeVerzeichnisVerlinken}" />
                            </span>
                            <x:updateActionListener
                                property="#{ProzessverwaltungForm.myProzess}"
                                value="#{item}" />
                        </button>
                    </li>
                    <li>
                        <!-- DOWNLOAD INTO HOME DIRECTORY - FOR ADMINS -->
                        <button
                            jsf:action="#{ProzessverwaltungForm.DownloadToHome}"
                            jsf:id="action17"
                            onclick="if (!confirm('#{msgs.warningAdminBeforeLinking}')) return false"
                            jsf:rendered="#{ProzessverwaltungForm.modusAnzeige!='vorlagen' and item.imageFolderInUse}"
                            class="dropdown-item">
                            <i class="fa fa-cloud-download" />
                            <span>
                                <h:outputText
                                    value="#{msgs.imHomeVerzeichnisVerlinkenTrotzBearbeitung}" />
                            </span>
                            <x:updateActionListener
                                property="#{ProzessverwaltungForm.myProzess}"
                                value="#{item}" />
                        </button>
                    </li>
                    <li>
                        <!-- UPLOAD FROM HOME DIRECTORY -->
                        <button
                            jsf:action="#{ProzessverwaltungForm.UploadFromHome}"
                            jsf:id="action18"
                            onclick="if (!confirm('#{msgs.ausHomeverzeichnisEntfernen}')) return false"
                            jsf:rendered="#{ProzessverwaltungForm.modusAnzeige!='vorlagen'}"
                            class="dropdown-item">
                            <i class="fa fa-cloud-upload" />
                            <span>
                                <h:outputText
                                    value="#{msgs.ausHomeverzeichnisEntfernen}" />
                            </span>
                            <x:updateActionListener
                                property="#{ProzessverwaltungForm.myProzess}"
                                value="#{item}" />
                        </button>
                    </li>
                </h:panelGroup>
        
                <h:panelGroup
                    rendered="#{ProzessverwaltungForm.modusAnzeige!='vorlagen' and LoginForm.hasRole('Workflow_Processes_Allow_Download')}">
                    <li>
                        <!-- DOWNLOAD LOG FILE -->
                        <button
                            jsf:id="ubid119"
                            jsf:action="#{item.downloadLogFile}"
                            onclick="preventDoubleSubmit(this);"
                            class="dropdown-item">
                            <i class="fa fa-file-code-o" />
                            <span>
                                <h:outputText value="#{msgs.downloadLogFile}" />
                            </span>
                        </button>
                    </li>
                    <li>
                        <!-- DOWNLOAD DOCKET -->
                        <button
                            jsf:id="ubid1119"
                            jsf:action="#{item.downloadDocket}"
                            onclick="preventDoubleSubmit(this);"
                            class="dropdown-item">
                            <i class="fa fa-print" />
                            <span>
                                <h:outputText
                                    value="#{msgs.process_generateDocket}" />
                            </span>
                        </button>
        
                    </li>
                    <li>
                        <!-- DOWNLOAD METS FILE -->
                        <button
                            jsf:action="#{ProzessverwaltungForm.downloadMets}"
                            jsf:id="action25"
                            onclick="preventDoubleSubmit(this);"
                            jsf:rendered="#{item.displayMETSButton}"
                            class="dropdown-item">
                            <i class="fa fa-floppy-o" />
                            <span>
                                <h:outputText value="#{msgs.downloadMets}" />
                            </span>
                            <x:updateActionListener
                                property="#{ProzessverwaltungForm.myProzess}"
                                value="#{item}" />
                        </button>
                    </li>
                    <li>
                        <!-- DOWNLOAD PDF FILE -->
                        <button
                            jsf:action="#{ProzessverwaltungForm.ExportPdf}"
                            jsf:id="action20"
                            onclick="preventDoubleSubmit(this);"
                            jsf:rendered="#{item.displayPDFButton}"
                            class="dropdown-item">
                            <i class="fa fa-file-pdf-o" />
                            <span>
                                <h:outputText
                                    value="#{msgs.process_generatePdfForEntireObject}" />
                            </span>
                            <x:updateActionListener
                                property="#{ProzessverwaltungForm.myProzess}"
                                value="#{item}" />
                        </button>
                    </li>
        
                    <li>
                        <!-- GENERATE SIMPLIFIED METADATA -->
                        <button
                            jsf:action="#{ProzessverwaltungForm.generateSimplifiedMetadataFile}"
                            jsf:id="action23"
                            onclick="preventDoubleSubmit(this);"
                            class="dropdown-item">
                            <i class="fa fa-file-pdf-o" />
                            <span>
                                <h:outputText
                                    value="#{msgs.process_generateSimplifiedMetadata}" />
                            </span>
                            <x:updateActionListener
                                property="#{ProzessverwaltungForm.myProzess}"
                                value="#{item}" />
                        </button>
                    </li>
        
                </h:panelGroup>
        
            </ul>
        </span>

	</composite:implementation>

</ui:composition>


