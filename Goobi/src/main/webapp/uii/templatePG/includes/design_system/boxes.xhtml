<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:x="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

	<composite:interface />

	<composite:implementation>
	

    <!-- Example box -->

	<intranda:box
		boxType="blank"
		icon="fa-search"
		title="#{msgs.search}"
		padding="false">

        <h:form
          id="myform"
          styleClass="form-vertical form-striped form-bordered"
          onkeypress="submitOnEnter(event);">
          <div class="form-group">
            <h:outputLabel
              styleClass="control-label "
              value="#{msgs.nachEinemBandSuchen}:" />
            <x:inputText
              pt:aria-label="#{msgs.search}"
              styleClass="form-control"
              value="#{ProzessverwaltungForm.filter}" />
          </div>

          <div class="form-group">
            <h:outputLabel
              styleClass="control-label "
              value="#{msgs.anzeige}:" />
            <div class="checkbox">
              <label> <h:selectBooleanCheckbox value="#{ProzessverwaltungForm.showClosedProcesses}" />
                #{msgs.showClosedProcesses}
              </label>
            </div>
            <div class="checkbox">
              <label> <h:selectBooleanCheckbox value="#{ProzessverwaltungForm.showArchivedProjects}" />
                #{msgs.showArchivedProjects}
              </label>
            </div>
          </div>

          <div class="form-actions">
            <button
				disabled="disabled"
              class="btn btn-success submitOnEnter pull-right font-size-s margin-bottom-most"
              jsf:id="absenden"
              type="submit"
              jsf:action="#{ProzessverwaltungForm.FilterAlleStart}">
              <i class="fa fa-search margin-right-5"></i>
              <h:outputText value="#{msgs.search}" />
              <f:setPropertyActionListener
                target="#{NavigationForm.aktuell}"
                value="a22" />
            </button>
          </div>
        </h:form>
        </intranda:box>
        
         <div class="flow">
      <h3 class="description">Box variants - boxes can be styled using the &lt;intranda:box&gt; composite</h3>

      <!-- Color switch -->
      <div class="switch">

        <!-- Button styles -->
        <button type="button" class="btn btn-blank" style="border: 2px solid var(--clr-neutral-400)">blank</button>

        <c:forEach var="color" items="#{colors}">
          <button type="button" class="btn btn-#{color[0]}">#{color[0]}</button>
        </c:forEach>

      </div>

      <!-- Code block -->
      <div class="code-block">
        <pre class="bg-primary text-white" style="border-radius: var(--border-radius)">
			<code></code>
        </pre>
      </div>

    </div>

    <!-- Change box color + code block content -->
    <script>
      const boxCode = `
        &lt;intranda:box
          boxType=&quot;{%type%}&quot;
          icon=&quot;fa-search&quot;
          title=&quot;#{msgs.search}&quot;
          padding=&quot;false&quot;&gt; // default: true

        &lt;!-- Your markup here --&gt;

        &lt;/intranda:box&gt;
      `
      const applyStyles = (e) => {
        const box = document.querySelector('.boxes .box');
        const codeBlock = document.querySelector('.code-block code')
        const clName = e.target.classList[1].replace('btn-', 'box--');
        box.classList.remove(box.classList[1])
        box.classList.add(clName)
        codeBlock.innerText =  boxCode.replace('{%type%}', clName.replace('box--', ''));
      }

      document.querySelectorAll('.switch > .btn').forEach((btn) => btn.addEventListener('click', applyStyles));
      document.querySelector('.switch > .btn-blank').click();
      console.log(1)
    </script>

	</composite:implementation>
</ui:composition>
