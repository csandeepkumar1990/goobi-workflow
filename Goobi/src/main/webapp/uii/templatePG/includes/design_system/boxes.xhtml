<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:composite="http://xmlns.jcp.org/jsf/composite"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:x="http://myfaces.apache.org/tomahawk"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui"
	xmlns:jsf="http://xmlns.jcp.org/jsf">

	<composite:interface />

	<composite:implementation>


  <!-- Example box -->

	<!-- BOX COLOR VARS -->
	<c:set var="boxColors" value="#{[
    ['neutral', 'neutral-600', ['#666666', 'rgb(102, 102, 102)', 'hsl(0, 0%, 40%)']],
    ['primary', 'primary-400', ['#368ee0', 'rgb(54, 142, 224)', 'hsl(209, 73%, 55%)']],
    ['action', 'action', ['#e8860c', 'rgb(232, 134, 12))', 'hsl(33, 90%, 48%)']],
    ['success', 'success', ['#198754', '	rgb(25, 135, 84)', '	hsl(152, 69%, 31%)']],
    ['hot', 'hot', ['#ba324f', 'rgb(186, 50, 79)', 'hsl(347, 58%, 46%)']]
  ]}" />


  <article class="flow">

  <h3 class="description">Box variants - boxes can be styled using the &lt;intranda:box&gt; composite</h3>

	<intranda:box
		boxType="blank"
    boxPadding="true"
		icon="fa-search"
		title="#{msgs.search}"
		>

        <h:form
          id="myform"
          styleClass="form-vertical form-striped form-bordered"
          onkeypress="submitOnEnter(event);">
          <div class="form-group">
            <h:outputLabel
              styleClass="control-label "
              value="#{msgs.nachEinemBandSuchen}:" />
            <x:inputText
              pt:aria-label="#{msgs.search}"
              styleClass="form-control"
              value="#{ProzessverwaltungForm.filter}" />
          </div>

          <div class="form-group">
            <h:outputLabel
              styleClass="control-label "
              value="#{msgs.anzeige}:" />
            <div class="checkbox">
              <label> <h:selectBooleanCheckbox value="#{ProzessverwaltungForm.showClosedProcesses}" />
                #{msgs.showClosedProcesses}
              </label>
            </div>
            <div class="checkbox">
              <label> <h:selectBooleanCheckbox value="#{ProzessverwaltungForm.showArchivedProjects}" />
                #{msgs.showArchivedProjects}
              </label>
            </div>
          </div>

          <div class="form-actions">
            <button
				      disabled="disabled"
              class="btn btn-success"
              jsf:id="absenden"
              type="submit"
              jsf:action="#{ProzessverwaltungForm.FilterAlleStart}">
              <i class="fa fa-search"></i>
              <span>#{msgs.search}</span>
              <f:setPropertyActionListener
                target="#{NavigationForm.aktuell}"
                value="a22" />
            </button>
          </div>
        </h:form>

        </intranda:box>

         <div class="flow">

      <!-- Color switch -->
      <div class="switch">

        <!-- Button styles -->
        <button type="button" class="btn btn-blank" data-color="blank" style="border: 2px solid var(--clr-neutral-400)">blank</button>
        <button type="button" class="btn btn-outline" data-color="outline" style="border: 1px solid var(--clr-neutral-400)">outline</button>

        <c:forEach var="color" items="#{boxColors}">
        <button type="button" class="btn btn-#{color[1]}" data-color="#{color[0]}">#{color[0]}</button>
        </c:forEach>

      </div>

      <!-- Code block -->
		<pre class="code--box bg-primary text-white p-3" style="border-radius: var(--border-radius)">
      <code class="microlight"></code>
		</pre>

    </div>

<!-- Change box color + code block content -->
<script>

const boxCode =`
&lt;intranda:box
  boxType=&quot;{%type%}&quot;
  icon=&quot;fa-search&quot;
  title=&quot;#{msgs.search}&quot;

&lt;!-- Your markup here --&gt;

&lt;/intranda:box&gt;`

const applyStyles = (e) => {
  const box = document.querySelector('.boxes .box');
  const codeBlock = document.querySelector('.code--box code')
  console.log(box.classList)
  const curBoxModifier = box.classList[1]
  const newBoxModifier = e.target.dataset.color;
  box.classList.replace(curBoxModifier, 'box--' + newBoxModifier)
  codeBlock.textContent =  boxCode.replace('{%type%}', newBoxModifier);
  microlight.reset();
}

document.querySelectorAll('.switch > .btn').forEach((btn) => btn.addEventListener('click', applyStyles));
// Apply box--blank styles on page load
document.querySelector('.switch > .btn-blank').click();

</script>

  </article>

  <article class="flow">

    <h3 class="description">Boxes with complex title bars, e.g. tabs.</h3>
    <intranda:box
      boxType="action"
      boxScope="form-box"
      boxTitle="false"
      boxPadding="false"
      >

      <!-- TITLE BAR -->
      <intranda:boxTitle
        title="Box with tabs"
        icon="fa-edit"
        >
        <!-- TABS -->
        <ul class="tabs">
          <li class="tab #{BenutzerverwaltungForm.displayMode eq ''?'active':''}">
            <h:commandLink
              id="tab1"
              styleClass="tab__link"
              value="active tab">
              <f:ajax onevent="() => null" />
            </h:commandLink>
          </li>
          <li class="tab">
            <h:commandLink
              id="tab2"
              styleClass="tab__link"
              value="not acive">
              <f:ajax onevent="() => null" />
            </h:commandLink>
          </li>
        </ul>
      </intranda:boxTitle>

  </intranda:box>

    <!-- Code block -->
		<pre class="code--box box-variant--tabs bg-primary text-white p-3" style="border-radius: var(--border-radius)">
      <code class="microlight"></code>
		</pre>

    <script>
      const boxCodeBoxTabs =`
&lt;intranda:box
  boxType=&quot;{%type%}&quot;
  boxTitle=&quot;false&quot;&gt; // default: true
  title=&quot;#{msgs.search}&quot;
  icon=&quot;fa-search&quot;

  &lt;intranda:boxTitle
    title=&quot;{#myPageTitle}&quot;
    icon=&quot;fa-edit&quot;&gt;

  &lt;!-- Your markup here --&gt;

  &lt;!-- Find a live example in user_edit.xhtml --&gt;

  &lt;/intranda:boxTitle&gt;

  &lt;!-- Your markup here --&gt;

&lt;/intranda:box&gt;`

      document.querySelector('.box-variant--tabs code').textContent =  boxCodeBoxTabs.replace('{%type%}', 'blank');
    </script>

  </article>



  <!-- SMALL BOXES -->
  <article class="flow">

    <h3 class="description">Boxes with a slimmer title bar, often nested in tables etc.</h3>
    <intranda:box
      boxType="hot"
      boxSmall="true"
      icon="undefined"
      title="I am a slim title"
      >

    </intranda:box>

    <!-- Code block -->
		<pre class="code--box box-variant--small bg-primary text-white p-3" style="border-radius: var(--border-radius)">
      <code class="microlight"></code>
		</pre>

    <script>
      const boxCodeBoxSmall =`
&lt;intranda:box
  boxType=&quot;hot&quot;
  boxSmall=&quot;true&quot;&gt; // default: true
  title=&quot;I am a slim title&quot;

  &lt;!-- Your markup here --&gt;

  &lt;!-- Find a live example in usergroup_all.xhtml --&gt;

&lt;/intranda:box&gt;`

      document.querySelector('.box-variant--small code').textContent =  boxCodeBoxSmall.replace('{%type%}', 'blank');
    </script>

  </article>

	</composite:implementation>
</ui:composition>


