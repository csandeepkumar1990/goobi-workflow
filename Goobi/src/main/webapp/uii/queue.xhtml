<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	template="/uii/templatePG/templatePG.html"
	xmlns:x="http://myfaces.apache.org/tomahawk"
	xmlns:intranda="http://xmlns.jcp.org/jsf/composite/compositesPG"
  xmlns:jsf="http://xmlns.jcp.org/jsf">

	<ui:param name="myPageTitle"
		value="#{msgs.menu_administration_currentQueue}" />

	<ui:define name="breadcrumb">
		<intranda:breadcrumb id="index"
			label="#{DashboardForm.plugin==null?msgs.startseite:msgs.dashboard}"
			action="index" navId="a0" />
		<intranda:breadcrumb id="admin"
			label="#{msgs.menu_administration_currentQueue}" action="queue.xhtml"
			noSeparator="#{true}" />
	</ui:define>

	<ui:define name="info">
	</ui:define>

	<ui:define name="content">
    <main>

		<intranda:box
			boxType="primary"
			title="#{msgs.menu_administration_currentQueue}"
			icon="fa-spinner"
		>

			<ui:fragment rendered="#{not messageQueueBean.messageBrokerStart}">
				<div class="alert alert-info">
					<h:outputText value="#{msgs.message_queue_queues_switched_off}" />
				</div>
			</ui:fragment>

			<ui:fragment rendered="#{messageQueueBean.messageBrokerStart}">
					<h:form id="mqTabForm" prependId="false">
						<ul class="nav nav-tabs" role="tablist">
							<li role="presentation" class="nav-item #{messageQueueBean.mode eq 'waiting' ? 'active' : ''}">
								<button class="nav-link active" id="process-queue-tab" data-bs-toggle="tab" data-bs-target="#tabContentProcessQueue" type="button" role="tab" aria-controls="tabContentProcessQueue" aria-selected="true">#{msgs.waiting}</button>
							</li>

							<li role="presentation"
								class="nav-item #{messageQueueBean.mode eq 'error' ? 'active' : ''}">
								<button class="nav-link" id="error-tab" data-bs-toggle="tab" data-bs-target="#tabContentError" type="button" role="tab" aria-controls="profile" aria-selected="false">#{msgs.errors}</button>
							</li>
						</ul>
					</h:form>

					<div class="tab-content" id="myTabContent">
						<div class="tab-pane fade show active" id="tabContentProcessQueue" role="tabpanel" aria-labelledby="process-queue-tab">
							<ui:include src="templatePG/includes/messagequeue/mq_waiting.xhtml"></ui:include>
						</div>
						<div class="tab-pane fade" id="tabContentError" role="tabpanel" aria-labelledby="error-tab">
							<ui:include src="templatePG/includes/messagequeue/mq_errors.xhtml"></ui:include>
						</div>
					</div>

			</ui:fragment>

		</intranda:box>

    </main>
	</ui:define>

</ui:composition>


